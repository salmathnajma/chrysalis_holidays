!function(i,t,e,r){t.wp=t.wp||{},t.wp.gdrts=t.wp.gdrts||{},t.wp.gdrts.shortcodes={init:function(){this.render(),i(e).on("change keyup",".gdrts-attribute, .gdrts-attr-value input, .gdrts-attr-value select",wp.gdrts.shortcodes.render);new ClipboardJS(".gdrts-shortcode-copy button",{text:function(t){return i("#gdrts-shortcode-block").html()}});i(".gdrts-color-picker").wpColorPicker({change:wp.gdrts.shortcodes.render});var t={allowInput:!0,dateFormat:"Y-m-d H:i:S",enableTime:!0,enableSeconds:!0,time_24hr:!0};""!==gdrts_data.flatpickr_locale&&(t.locale=gdrts_data.flatpickr_locale),i(".gdrts-datetime-picker").flatpickr(t)},render:function(){var r="",t=i(".d4p-group-arguments"),e=t.data("shortcode"),a="yes"===t.data("inner"),s=wp.gdrts.shortcodes.attributes();r+="["+e,i.each(s,function(t,e){r+=" "+t+"='"+e+"'"}),r+="]",a&&(r+="&lt;!-- --- --\x3e[/"+e+"]"),i("#gdrts-shortcode-block").html(r)},attributes:function(){var n={},o={};return i(".d4p-group-arguments .gdrts-unit").each(function(){var t=i(this).data(),e=t.default;"checkbox"==t.type&&(e=e?"true":"false"),o[t.name]=e}),i(".d4p-group-arguments .gdrts-unit").each(function(){var r,t,e,a,s=i(this),c=s.data(),d=c.default;if(i(".gdrts-attribute",s).is(":checked")){switch(c.type){case"number":t=i(".gdrts-attr-value input[type=number]",s).val(),t=parseInt(t);break;case"multi":e=[],i(".gdrts-attr-value input[type=checkbox]:checked",s).each(function(){e.push(i(this).val())}),t=e.join(", ");break;case"select":t=i(".gdrts-attr-value select",s).val().trim();break;case"checkbox":t=i(".gdrts-attr-value select",s).val().trim(),d=d?"true":"false";break;case"color":case"datetime":case"text":t=i(".gdrts-attr-value input[type=text]",s).val().trim()}t!==d&&(r=!0,i.each(c.rule,function(t,e){a=e+"",r=void 0!==n[t]?a.endsWith("%%")?n[t].startsWith(a.substr(0,a.length-2)):n[t]===e:a.endsWith("%%")?o[t].startsWith(a.substr(0,a.length-2)):o[t]===e}),r&&(n[c.name]=t))}}),n}},wp.gdrts.shortcodes.init()}(jQuery,window,document);